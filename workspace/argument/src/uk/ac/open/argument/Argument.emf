@namespace(uri="http://www.ac.uk/open/argument/Argument", prefix="argument")
@gmf(foo="bar")
package argument;

@gmf.diagram(foo="bar")
class ArgumentDiagram {
  attr String name;
  ref Node highlight;
  val Node[*] nodes;
  val Link[*] links;
}

class Node extends TerminalExpression {
  ref Node value;
  attr String name;
  attr String description;
}

@gmf.node(label="description, round", icon="false")
class Argument extends Node {
  attr String round;
  @gmf.compartment(foo="bar")
  val Fact[*] grounds;
  @gmf.compartment(foo="bar")
  val Argument[*] warrants;
}

@gmf.node(label="description", icon="false")
class Fact extends Node {
  val Expression expr;
  @gmf.link(target="origin", style="dash", width="2", color="0,255,0", target.decoration="arrow")
  ref Node origin;
}

class Expression {
  val Expression assign;
  attr boolean uop;
  val Expression right;
  attr int n;
}

enum UnaryOp {
  NOT = 0;
}

class TerminalExpression extends Expression {
}

class Link {
  ref Argument from;
  ref Argument to;
}

@gmf.link(source="from", target="to", style="dot", width="2", color="255,0,0", target.decoration="arrow")
class Rebuts extends Link {
}

@gmf.link(source="from", target="to", style="solid", width="2", color="0,0,255", target.decoration="arrow")
class Mitigates extends Link {
}

class AssignPlus extends Expression {
  val Expression left;
  attr String aop;
}

class AssignMin extends Expression {
  val Expression left;
  attr String aop;
}

class Or extends Expression {
  val Expression left;
  attr String or_op;
}

class And extends Expression {
  val Expression left;
  attr String and_op;
}

class RelNotEq extends Expression {
  val Expression left;
  attr String rel_op;
}

class RelEqEq extends Expression {
  val Expression left;
  attr String rel_op;
}

class RelLtEq extends Expression {
  val Expression left;
  attr String rel_op;
}

class RelGtEq extends Expression {
  val Expression left;
  attr String rel_op;
}

class RelEq extends Expression {
  val Expression left;
  attr String rel_op;
}

class RelLt extends Expression {
  val Expression left;
  attr String rel_op;
}

class RelGt extends Expression {
  val Expression left;
  attr String rel_op;
}

class Plus extends Expression {
  val Expression left;
  attr String add_op;
}

class Minus extends Expression {
  val Expression left;
  attr String add_op;
}

class Multi extends Expression {
  val Expression left;
  attr String mul_op;
}

class Div extends Expression {
  val Expression left;
  attr String mul_op;
}

class Pow extends Expression {
  val Expression left;
  attr String pow_op;
}

class IntLiteral extends TerminalExpression {
  attr int value;
}

class StringLiteral extends TerminalExpression {
  attr String value;
}

class BooleanLiteral extends TerminalExpression {
  attr boolean value;
}

