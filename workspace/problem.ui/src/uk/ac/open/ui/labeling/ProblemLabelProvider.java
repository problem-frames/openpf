/*
 * generated by Xtext
 */
package uk.ac.open.ui.labeling;

import org.eclipse.emf.edit.ui.provider.AdapterFactoryLabelProvider;
import org.eclipse.xtext.ui.label.DefaultEObjectLabelProvider;

import uk.ac.open.problem.Link;
import uk.ac.open.problem.Node;
import uk.ac.open.problem.Phenomenon;
import uk.ac.open.problem.ProblemDiagram;

import com.google.inject.Inject;

/**
 * Provides labels for a EObjects.
 * 
 * see
 * http://www.eclipse.org/Xtext/documentation/latest/xtext.html#labelProvider
 */
public class ProblemLabelProvider extends DefaultEObjectLabelProvider {

	@Inject
	public ProblemLabelProvider(AdapterFactoryLabelProvider delegate) {
		super(delegate);
	}

	// Labels and icons can be computed like this:

	String text(Node l) {
		return l.getType().getName() + " " + (l.getDescription()!=null?l.getDescription():"") + "(" + l.getName() + ") ";
	}

	String text(Link l) {
		String p = "";
		for (Phenomenon ph: l.getPhenomena()) {
			if (!p.equals(""))
				p += ", ";
			p += l.getFrom().getName() + "!";
			p += ph.getName(); 
		}
		return l.getDescription() + ": {" +  p + "}";
	}

	String image(Node l) {
		return l.getType().getName() + ".gif";
	}
	
	String image(Link l) {
		return l.getType().getName() + ".gif";
	}
	
	String image(ProblemDiagram ele) {
		return "example.gif";
	}
}
